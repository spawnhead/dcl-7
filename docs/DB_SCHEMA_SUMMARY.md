# DB Schema Summary (Firebird source)

Source of truth: `db/Lintera_dcl-5_schema.ddl`.

## Object inventory

### Tables (96)
- DCL_1C_NUMBER_HISTORY
- DCL_ACCOUNT
- DCL_ACTION
- DCL_ACTION_ROLE
- DCL_ASM_LIST_PRODUCE
- DCL_ASSEMBLE
- DCL_ATTACHMENT
- DCL_BLANK
- DCL_BLANK_IMAGE
- DCL_CATALOG_NUMBER
- DCL_CATEGORY
- DCL_CFC_LIST_PRODUCE
- DCL_CFC_MESSAGE
- DCL_COMMERCIAL_PROPOSAL
- DCL_COND_FOR_CONTRACT
- DCL_CONTACT_PERSON
- DCL_CONTACT_PERSON_USER
- DCL_CONTRACT
- DCL_CONTRACTOR
- DCL_CONTRACTOR_REQUEST
- DCL_CONTRACTOR_USER
- DCL_CONTRACT_CLOSED
- DCL_CON_LIST_SPEC
- DCL_CON_MESSAGE
- DCL_COUNTRY
- DCL_CPR_LIST_PRODUCE
- DCL_CPR_TRANSPORT
- DCL_CRQ_ORD_LINK
- DCL_CRQ_PRINT
- DCL_CRQ_STAGE
- DCL_CTC_LIST
- DCL_CTC_PAY
- DCL_CTC_SHP
- DCL_CURRENCY
- DCL_CURRENCY_RATE
- DCL_CUSTOM_CODE
- DCL_CUS_CODE_HISTORY
- DCL_DELIVERY_REQUEST
- DCL_DEPARTMENT
- DCL_DLR_LIST_PRODUCE
- DCL_FIELD_COMMENT
- DCL_FILES_PATH
- DCL_INF_MESSAGE
- DCL_INSTRUCTION
- DCL_INSTRUCTION_TYPE
- DCL_LANGUAGE
- DCL_LOG
- DCL_LPS_LIST_MANAGER
- DCL_MONTAGE_ADJUSTMENT
- DCL_MONTAGE_ADJUSTMENT_H
- DCL_OPR_LIST_EXECUTED
- DCL_ORDER
- DCL_ORD_LIST_PAYMENT
- DCL_ORD_LIST_PAY_SUM
- DCL_ORD_LIST_PRODUCE
- DCL_ORD_MESSAGE
- DCL_OUTGOING_LETTER
- DCL_PAYMENT
- DCL_PAY_LIST_SUMM
- DCL_PAY_MESSAGE
- DCL_PRC_CTR_FOR_CALCSTATE
- DCL_PRC_LIST_PRODUCE
- DCL_PRODUCE
- DCL_PRODUCE_COST
- DCL_PRODUCE_COST_CUSTOM
- DCL_PRODUCE_LANGUAGE
- DCL_PRODUCTION_TERM
- DCL_PURCHASE_PURPOSE
- DCL_PURPOSE
- DCL_RATE_NDS
- DCL_READY_FOR_SHIPPING
- DCL_REPUTATION
- DCL_RESTS_IN_MINSK_TEMPORARY
- DCL_ROLE
- DCL_ROUTE
- DCL_SELLER
- DCL_SETTING
- DCL_SHIPPING
- DCL_SHP_DOC_TYPE
- DCL_SHP_LIST_PRODUCE
- DCL_SPC_LIST_PAYMENT
- DCL_SPECIFICATION_IMPORT
- DCL_SPI_LIST_PRODUCE
- DCL_STUFF_CATEGORY
- DCL_TERM_INCO
- DCL_TEST
- DCL_TIMEBOARD
- DCL_TMB_LIST_WORK
- DCL_UNIT
- DCL_UNIT_LANGUAGE
- DCL_USER
- DCL_USER_LANGUAGE
- DCL_USER_LINK
- DCL_USER_ROLE
- DCL_USER_SETTING
- DCL_YEAR_NUM

### Views (23)
- DCL_CUSTOM_CODE_V
- DCL_LNT_ACCOUNT
- DCL_LNT_PRODUCE
- DCL_LNT_SERVICE
- DCL_LNT_SERVICE_CONTRACT
- DCL_OCCUPIED_APR_PRODUCE_V
- DCL_OCCUPIED_ASM_PRODUCE_V
- DCL_OCCUPIED_CONTRACTOR_V
- DCL_OCCUPIED_CONTRACT_V
- DCL_OCCUPIED_COUNTRY_V
- DCL_OCCUPIED_DLR_PRODUCE_V
- DCL_OCCUPIED_ORD_PRODUCE_V
- DCL_OCCUPIED_PRC_PRODUCE_CPR_V
- DCL_OCCUPIED_PRC_PRODUCE_V
- DCL_OCCUPIED_ROUTE_V
- DCL_OCCUPIED_SELLER_V
- DCL_OCCUPIED_SHP_DOC_TYPE_V
- DCL_OCCUPIED_SPEC_IN_PAY_SHP_V
- DCL_OCCUPIED_SPEC_V
- DCL_OCCUPIED_SPI_PRODUCE_V
- DCL_OCCUPIED_STUFF_CATEGORY_V
- DCL_SHP_USR_DEP_V
- DCL_SPEC_IN_CTC_V

### Generators (85)
- DCL_1C_NUMBER_HISTORY_GENERATOR
- DCL_CUS_CODE_HISTORY_GENERATOR
- GEN_DCL_ACCOUNT_ID
- GEN_DCL_ACTION_ID
- GEN_DCL_ASM_LIST_PRODUCE_ID
- GEN_DCL_ASSEMBLE_ID
- GEN_DCL_ATTACHMENT_ID
- GEN_DCL_BLANK_ID
- GEN_DCL_BLANK_IMAGE_ID
- GEN_DCL_CATALOG_NUMBER_ID
- GEN_DCL_CATEGORY_ID
- GEN_DCL_CFC_LIST_PRODUCE_ID
- GEN_DCL_CFC_MESSAGE_ID
- GEN_DCL_COMMERCIAL_PROPOSAL_ID
- GEN_DCL_COMMON_BLANK_ID
- GEN_DCL_COMMON_BLANK_LIGHT_ID
- GEN_DCL_COND_FOR_CONTRACT_ID
- GEN_DCL_CONTACT_PERSON_ID
- GEN_DCL_CONTRACTOR_ID
- GEN_DCL_CONTRACTOR_REQUEST_ID
- GEN_DCL_CONTRACT_CLOSED_ID
- GEN_DCL_CONTRACT_ID
- GEN_DCL_CON_LIST_SPEC_ID
- GEN_DCL_CON_MESSAGE_ID
- GEN_DCL_COUNTRY_ID
- GEN_DCL_CPR_LIST_PRODUCE_ID
- GEN_DCL_CPR_TRANSPORT_ID
- GEN_DCL_CRQ_PRINT_ID
- GEN_DCL_CRQ_STAGE_ID
- GEN_DCL_CTC_LIST_ID
- GEN_DCL_CURRENCY_ID
- GEN_DCL_CURRENCY_RATE_ID
- GEN_DCL_CUSTOME_CODE_ID
- GEN_DCL_DELIVERY_REQUEST_ID
- GEN_DCL_DEPARTMENT_ID
- GEN_DCL_DLR_LIST_PRODUCE_ID
- GEN_DCL_FIELD_COMMENT_ID
- GEN_DCL_FILES_PATH_ID
- GEN_DCL_INF_MESSAGE_ID
- GEN_DCL_INSTRUCTION_ID
- GEN_DCL_INSTRUCTION_TYPE_ID
- GEN_DCL_LANGUAGE_ID
- GEN_DCL_LETTERHEAD_ID
- GEN_DCL_LOG_ID
- GEN_DCL_LPS_LIST_MANAGER_ID
- GEN_DCL_MONTAGE_ADJUSTMENT_H_ID
- GEN_DCL_MONTAGE_ADJUSTMENT_ID
- GEN_DCL_ORDER_BLANK_ID
- GEN_DCL_ORDER_ID
- GEN_DCL_ORD_LIST_PAYMENT_ID
- GEN_DCL_ORD_LIST_PAY_SUM_ID
- GEN_DCL_ORD_LIST_PRODUCE_ID
- GEN_DCL_ORD_MESSAGE_ID
- GEN_DCL_OUTGOING_LETTER_ID
- GEN_DCL_PAYMENT_ID
- GEN_DCL_PAY_LIST_SUMM_ID
- GEN_DCL_PAY_MESSAGE_ID
- GEN_DCL_PRC_LIST_PRODUCE_ID
- GEN_DCL_PRODUCE_COST_ID
- GEN_DCL_PRODUCE_ID
- GEN_DCL_PRODUCTION_TERM_ID
- GEN_DCL_PURCHASE_PURPOSE_ID
- GEN_DCL_PURPOSE_ID
- GEN_DCL_RATE_NDS_ID
- GEN_DCL_READY_FOR_SHIPPING_ID
- GEN_DCL_REPUTATION_ID
- GEN_DCL_ROLE_ID
- GEN_DCL_ROUTE_ID
- GEN_DCL_SELLER_ID
- GEN_DCL_SETTING_ID
- GEN_DCL_SHIPPING_ID
- GEN_DCL_SHP_DOC_TYPE_ID
- GEN_DCL_SHP_LIST_PRODUCE_ID
- GEN_DCL_SPC_LIST_PAYMENT_ID
- GEN_DCL_SPECIFICATION_IMPORT_ID
- GEN_DCL_SPI_LIST_PRODUCE_ID
- GEN_DCL_STUFF_CATEGORY_ID
- GEN_DCL_TERM_INCO_ID
- GEN_DCL_TEST_ID
- GEN_DCL_TIMEBOARD_ID
- GEN_DCL_TMB_LIST_WORK_ID
- GEN_DCL_UNIT_ID
- GEN_DCL_USER_ID
- GEN_DCL_USER_LINK_ID
- GEN_DCL_USER_SETTING_ID

### Triggers (127)
- DCL_1C_NUMBER_HISTORY_TRIGGER
- DCL_ACCOUNT_BD0
- DCL_ACCOUNT_BI0
- DCL_ACCOUNT_BU0
- DCL_ACTION_BI0
- DCL_ASM_LIST_PRODUCE_BI0
- DCL_ASSEMBLE_BI0
- DCL_ASSEMBLE_BU0
- DCL_ATTACHMENT_BIO
- DCL_BLANK_BI0
- DCL_BLANK_IMAGE_BI0
- DCL_CATALOG_NUMBER_BIO
- DCL_CATALOG_NUMBER_BU0
- DCL_CATEGORY_BIO
- DCL_CFC_LIST_PRODUCE_BI0
- DCL_CFC_MESSAGE_BI0
- DCL_COMMERCIAL_PROPOSAL_AI0
- DCL_COMMERCIAL_PROPOSAL_BI0
- DCL_COMMERCIAL_PROPOSAL_BU0
- DCL_COND_FOR_CONTRACT_AI0
- DCL_COND_FOR_CONTRACT_BD0
- DCL_COND_FOR_CONTRACT_BI0
- DCL_COND_FOR_CONTRACT_BU0
- DCL_CONTACT_PERSON_BI0
- DCL_CONTRACTOR_BI0
- DCL_CONTRACTOR_BU0
- DCL_CONTRACTOR_REQUEST_BD0
- DCL_CONTRACTOR_REQUEST_BI0
- DCL_CONTRACTOR_REQUEST_BU0
- DCL_CONTRACT_BD0
- DCL_CONTRACT_BI0
- DCL_CONTRACT_BU0
- DCL_CONTRACT_CLOSED_BI0
- DCL_CONTRACT_CLOSED_BU0
- DCL_CON_LIST_SPEC_BD0
- DCL_CON_LIST_SPEC_BI0
- DCL_CON_MESSAGE_BI0
- DCL_COUNTRY_BI0
- DCL_COUNTRY_BU0
- DCL_CPR_LIST_PRODUCE_BI0
- DCL_CPR_TRANSPORT_BI0
- DCL_CRQ_PRINT_BI0
- DCL_CRQ_STAGE_BI0
- DCL_CTC_LIST_AD0
- DCL_CTC_LIST_BI0
- DCL_CURRENCY_BIO
- DCL_CURRENCY_RATE_BI0
- DCL_CUSTOM_CODE_AU0
- DCL_CUSTOM_CODE_BI0
- DCL_CUSTOM_CODE_BU0
- DCL_CUS_CODE_HISTORY_TRIGGER
- DCL_DELIVERY_REQUEST_BI0
- DCL_DELIVERY_REQUEST_BU0
- DCL_DEPARTMENT_BI0
- DCL_DLR_LIST_PRODUCE_BD0
- DCL_DLR_LIST_PRODUCE_BI0
- DCL_DLR_LIST_PRODUCE_BU0
- DCL_FIELD_COMMENT_BI0
- DCL_FILES_PATH_BI0
- DCL_INF_MESSAGE_BI0
- DCL_INSTRUCTION_BD0
- DCL_INSTRUCTION_BI0
- DCL_INSTRUCTION_BU0
- DCL_INSTRUCTION_TYPE_BI0
- DCL_LANGUAGE_BI0
- DCL_LOG_BI0
- DCL_LPS_LIST_MANAGER_BI0
- DCL_MONTAGE_ADJUSTMENT_BIO
- DCL_MONTAGE_ADJUSTMENT_H_BIO
- DCL_MONTAGE_ADJUSTMENT_H_BU0
- DCL_ORDER_AI0
- DCL_ORDER_BD0
- DCL_ORDER_BI0
- DCL_ORDER_BU0
- DCL_ORD_LIST_PAYMENT_BI0
- DCL_ORD_LIST_PAY_SUM_BI0
- DCL_ORD_LIST_PRODUCE_AI0
- DCL_ORD_LIST_PRODUCE_BI0
- DCL_ORD_MESSAGE_BI0
- DCL_OUTGOING_LETTER_BD0
- DCL_OUTGOING_LETTER_BI0
- DCL_OUTGOING_LETTER_BU0
- DCL_PAYMENT_BI0
- DCL_PAYMENT_BU0
- DCL_PAY_LIST_SUMM_BI0
- DCL_PAY_MESSAGE_BI0
- DCL_PRC_LIST_PRODUCE_AI0
- DCL_PRC_LIST_PRODUCE_AU0
- DCL_PRC_LIST_PRODUCE_BD0
- DCL_PRC_LIST_PRODUCE_BI0
- DCL_PRC_LIST_PRODUCE_BU0
- DCL_PRODUCE_BD0
- DCL_PRODUCE_BIO
- DCL_PRODUCE_COST_BI0
- DCL_PRODUCE_COST_BU0
- DCL_PRODUCTION_TERM_BI0
- DCL_PURCHASE_PURPOSE_BI0
- DCL_PURPOSE_BI0
- DCL_RATE_NDS_BI0
- DCL_READY_FOR_SHIPPING_BI0
- DCL_REPUTATION_BI0
- DCL_REPUTATION_BU0
- DCL_ROLE_BIO
- DCL_ROUTE_BI0
- DCL_SELLER_BI0
- DCL_SETTING_BI0
- DCL_SHIPPING_BI0
- DCL_SHIPPING_BU0
- DCL_SHP_DOC_TYPE_BI0
- DCL_SHP_LIST_PRODUCE_AI0
- DCL_SHP_LIST_PRODUCE_AU0
- DCL_SHP_LIST_PRODUCE_BI0
- DCL_SHP_LIST_PRODUCE_BU0
- DCL_SPC_LIST_PAYMENT_BI0
- DCL_SPECIFICATION_IMPORT_BI0
- DCL_SPECIFICATION_IMPORT_BU0
- DCL_SPI_LIST_PRODUCE_BI0
- DCL_STUFF_CATEGORY_BI0
- DCL_TERM_INCO_BI0
- DCL_TEST_BI0
- DCL_TIMEBOARD_BI0
- DCL_TIMEBOARD_BU0
- DCL_TMB_LIST_WORK_BI0
- DCL_UNIT_BI0
- DCL_USER_BI0
- DCL_USER_LINK_BI0
- DCL_USER_SETTING_BI0

### Indexes (35)
- DCL_ACCOUNT_IDX
- DCL_ACTION_ACT_ACTION
- DCL_BLANK_IDX_NAME_TYPE
- DCL_CATEGORY_IDX1
- DCL_CFC_IDX_PLACE_DATE
- DCL_CONTRACTOR_UNP_IDX
- DCL_CONTRACT_CLOSED_CTC_DATE
- DCL_CPR_IDX_DATE
- DCL_CRT_CUR_ID_DATE_IDX
- DCL_CTN_INDEX_PRD_STF
- DCL_DELIVERY_REQUEST_IDX1
- DCL_FIELD_COMMENT_KEY
- DCL_FLP_TABLE_NAME_IDX
- DCL_IDX_ATT_PRN_ID_PRN_TBL
- DCL_LOG_IDX_LOG_IP
- DCL_LOG_IDX_LOG_TIME
- DCL_PAYMENT_IDX_DATE
- DCL_PRODUCE_COST_PRC_DATE
- DCL_RATE_RTN_DATE_FROM
- DCL_SETTING_NAME
- DCL_SHIPPING_IDX_DATE
- DCL_TMB_USR_ID_TMB_DATE
- DCL_USER_SETTING_UN
- IDX_CPR_CTR
- IDX_CPR_LIST_CPR
- IDX_CPR_LIST_STF
- IDX_CPR_USR_CREATE
- IDX_DCL_CONTRACT_CTR_ID
- IDX_DCL_CONTRACT_CUR_ID
- IDX_DCL_CONTRACT_SLN_ID
- IDX_DCL_CON_LIST_SPEC_CON_ID
- IDX_DCL_CON_LIST_SPEC_USR_ID
- IDX_DCL_PAY_LIST_SUMM_PAY_ID
- IDX_DCL_PAY_LIST_SUMM_SPC_ID
- IDX_DCL_SHIPPING_SPC_ID

### Domains
- SMALLINTNN (SMALLINT NOT NULL)

## Constraints overview
- Primary keys: 89 table-level PK constraints are declared in the DDL.
- Unique constraints: 4 table-level unique constraints are declared in the DDL.
- Foreign keys: no FK constraints are declared in the DDL (none were found in `CREATE TABLE` or `ALTER TABLE` statements).

## Firebird-specific elements to preserve in migration
- Generators + BEFORE INSERT triggers are the primary mechanism for ID assignment. There are 81 triggers that call `GEN_ID`.
- Trigger naming conventions signal lifecycle timing: `BI0` (before insert), `BU0` (before update), `BD0` (before delete), `AI0` (after insert), `AU0` (after update), `AD0` (after delete).
- Stored procedures are heavily used (231 total). They must be reviewed for business logic and migrated to Postgres or application services.

## Candidate bounded contexts (by table naming)
- **Security & access**: `DCL_USER`, `DCL_ROLE`, `DCL_USER_ROLE`, `DCL_ACTION`, `DCL_ACTION_ROLE`, `DCL_USER_LINK`, `DCL_USER_SETTING`.
- **Reference data**: `DCL_COUNTRY`, `DCL_CURRENCY`, `DCL_CURRENCY_RATE`, `DCL_UNIT`, `DCL_STUFF_CATEGORY`, `DCL_ROUTE`, `DCL_SHP_DOC_TYPE`, `DCL_TERM_INCO`, `DCL_PURPOSE`, `DCL_PURCHASE_PURPOSE`, `DCL_RATE_NDS`, `DCL_REPUTATION`, `DCL_LANGUAGE`, `DCL_DEPARTMENT`, `DCL_SELLER`.
- **Contractors & contacts**: `DCL_CONTRACTOR`, `DCL_CONTACT_PERSON`, `DCL_CONTACT_PERSON_USER`, `DCL_CONTRACTOR_REQUEST`, `DCL_CONTRACTOR_USER`.
- **Contracts & specifications**: `DCL_CONTRACT`, `DCL_CON_LIST_SPEC`, `DCL_CON_MESSAGE`, `DCL_CONTRACT_CLOSED`, `DCL_CTC_LIST`, `DCL_CTC_PAY`, `DCL_CTC_SHP`, `DCL_SPC_LIST_PAYMENT`.
- **Commercial proposals & costings**: `DCL_COMMERCIAL_PROPOSAL`, `DCL_CPR_LIST_PRODUCE`, `DCL_CPR_TRANSPORT`, `DCL_PRODUCE_COST`, `DCL_PRODUCE_COST_CUSTOM`, `DCL_PRC_LIST_PRODUCE`.
- **Orders & payments**: `DCL_ORDER`, `DCL_ORD_LIST_PRODUCE`, `DCL_ORD_LIST_PAYMENT`, `DCL_ORD_LIST_PAY_SUM`, `DCL_PAYMENT`, `DCL_PAY_LIST_SUMM`.
- **Delivery & shipping**: `DCL_DELIVERY_REQUEST`, `DCL_DLR_LIST_PRODUCE`, `DCL_SHIPPING`, `DCL_SHP_LIST_PRODUCE`, `DCL_READY_FOR_SHIPPING`.
- **Production & assembly**: `DCL_PRODUCE`, `DCL_ASSEMBLE`, `DCL_ASM_LIST_PRODUCE`, `DCL_PRODUCTION_TERM`, `DCL_OPR_LIST_EXECUTED`.
- **Timeboards & workforce**: `DCL_TIMEBOARD`, `DCL_TMB_LIST_WORK`.
- **Communications & logging**: `DCL_OUTGOING_LETTER`, `DCL_INF_MESSAGE`, `DCL_LOG`.
- **Attachments & files**: `DCL_ATTACHMENT`, `DCL_FILES_PATH`, `DCL_FIELD_COMMENT`.
- **Customs & codes**: `DCL_CUSTOM_CODE`, `DCL_CUS_CODE_HISTORY`, `DCL_1C_NUMBER_HISTORY`, `DCL_CATALOG_NUMBER`.
