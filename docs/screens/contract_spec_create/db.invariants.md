# contract_spec_create â€” DB invariants (enforced only)

- UNKNOWN in normalized pass; map to enforced constraints/triggers/procedures only.

## SQL RE-EVALUATION (Patch 0.5+)
- Source: `db/Lintera_dcl-5_schema.ddl` (SQL priority over UI).

### Table `DCL_COND_FOR_CONTRACT`
- Columns (type): `CFC_ID` INTEGER NOT NULL; `CFC_CREATE_DATE` TIMESTAMP NOT NULL; `USR_ID_CREATE` INTEGER NOT NULL; `CFC_EDIT_DATE` TIMESTAMP NOT NULL; `USR_ID_EDIT` INTEGER NOT NULL; `CFC_PLACE` SMALLINT; `CFC_PLACE_DATE` TIMESTAMP; `USR_ID_PLACE` INTEGER
- NOT NULL: `CFC_ID`, `CFC_CREATE_DATE`, `USR_ID_CREATE`, `CFC_EDIT_DATE`, `USR_ID_EDIT`, `CTR_ID`, `CFC_DOC_TYPE`
- Foreign Keys: UNKNOWN/none detected in direct parse for this table.
- Check Constraints: UNKNOWN/none detected.
- Trigger Logic: `DCL_COND_FOR_CONTRACT_BI0`; `DCL_COND_FOR_CONTRACT_AI0`; `DCL_COND_FOR_CONTRACT_BU0`; `DCL_COND_FOR_CONTRACT_BD0`
- Stored Procedures: `DCL_CLOSE_CONTRACT`; `DCL_COND_FOR_CONTRACT_FILTER`; `DCL_COND_FOR_CONTRACT_INSERT`; `DCL_CONTRACTOR_FILTER`; `DCL_CONTRACTOR_FILTER_FULL`

### Table `DCL_CONTRACT`
- Columns (type): `CON_ID` INTEGER NOT NULL; `CON_CREATE_DATE` TIMESTAMP; `USR_ID_CREATE` INTEGER; `CON_EDIT_DATE` TIMESTAMP; `USR_ID_EDIT` INTEGER; `CON_NUMBER` VARCHAR(50) NOT NULL; `CON_DATE` DATE NOT NULL; `CTR_ID` INTEGER
- NOT NULL: `CON_ID`, `CON_NUMBER`, `CON_DATE`
- Foreign Keys: UNKNOWN/none detected in direct parse for this table.
- Check Constraints: UNKNOWN/none detected.
- Trigger Logic: `DCL_CONTRACT_BI0`; `DCL_CONTRACT_BU0`; `DCL_CONTRACT_BD0`
- Stored Procedures: `DCL_CLOSE_CONTRACT`; `DCL_COND_FOR_CONTRACT_FILTER`; `DCL_COND_FOR_CONTRACT_INSERT`; `DCL_CONTRACTOR_FILTER`; `DCL_CONTRACTOR_FILTER_FULL`

### Table `DCL_CONTRACTOR`
- Columns (type): `CTR_ID` INTEGER NOT NULL; `CTR_NAME` VARCHAR(200) NOT NULL; `CTR_EMAIL` VARCHAR(40); `CTR_BANK_PROPS` VARCHAR(800); `CTR_UNP` VARCHAR(15); `CTR_FULL_NAME` VARCHAR(300); `CTR_BLOCK` SMALLINT; `CTR_CREATE_DATE` TIMESTAMP
- NOT NULL: `CTR_ID`, `CTR_NAME`, `RPT_ID`, `CUT_ID`
- Foreign Keys: UNKNOWN/none detected in direct parse for this table.
- Check Constraints: UNKNOWN/none detected.
- Trigger Logic: `DCL_CONTRACTOR_BI0`; `DCL_CONTRACTOR_BU0`
- Stored Procedures: `DCL_CONTRACTOR_FILTER`; `DCL_CONTRACTOR_FILTER_FULL`; `DCL_CONTRACTOR_FOR_CC_FILTER`; `DCL_CONTRACTOR_INSERT`; `DCL_CONTRACTOR_LOAD`

### Table `DCL_CONTRACTOR_REQUEST`
- Columns (type): `CRQ_ID` INTEGER NOT NULL; `CRQ_CREATE_DATE` TIMESTAMP NOT NULL; `USR_ID_CREATE` INTEGER NOT NULL; `CRQ_EDIT_DATE` TIMESTAMP NOT NULL; `USR_ID_EDIT` INTEGER NOT NULL; `CRQ_RECEIVE_DATE` DATE NOT NULL; `CTR_ID` INTEGER NOT NULL; `CPS_ID` INTEGER
- NOT NULL: `CRQ_ID`, `CRQ_CREATE_DATE`, `USR_ID_CREATE`, `CRQ_EDIT_DATE`, `USR_ID_EDIT`, `CRQ_RECEIVE_DATE`, `CTR_ID`, `CRQ_REQUEST_TYPE_ID`
- Foreign Keys: UNKNOWN/none detected in direct parse for this table.
- Check Constraints: UNKNOWN/none detected.
- Trigger Logic: `DCL_CONTRACTOR_REQUEST_BI0`; `DCL_CONTRACTOR_REQUEST_BU0`; `DCL_CONTRACTOR_REQUEST_BD0`
- Stored Procedures: `DCL_CONTRACTOR_REQUEST_FILTER`; `DCL_CONTRACTOR_REQUEST_INSERT`; `DCL_CONTRACTOR_REQUEST_LOAD`; `DCL_DELIVERY_REQUEST_FILTER`; `DCL_DELIVERY_REQUEST_INSERT`

### Table `DCL_CONTRACTOR_USER`
- Columns (type): `CTR_ID` INTEGER NOT NULL; `USR_ID` INTEGER NOT NULL
- NOT NULL: `CTR_ID`, `USR_ID`
- Foreign Keys: UNKNOWN/none detected in direct parse for this table.
- Check Constraints: UNKNOWN/none detected.
- Trigger Logic: UNKNOWN/none detected.
- Stored Procedures: `CHECKUSERMESSAGESONDELETE`; `DCL_GET_USER_FOR_CONTRACT`; `DCL_SHIPPING_REPORT_USER`; `DCL_UPDATE_USER_BLOCK`; `DCL_USER_ACTIONS`

