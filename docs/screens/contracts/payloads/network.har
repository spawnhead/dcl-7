# Legacy Contracts — Network Capture (text artifact, not binary HAR)

**Source:** Legacy DCL v2.4.4 at http://localhost:8082/
**Captured:** 2026-02-12 via Chrome DevTools MCP
**Flows:** initial load, filter, clear

---

## Entry: Navigation to Contracts list

**URL:** http://localhost:8082/Menu.do?current_menu_id=id.contractDoc
**Method:** GET
**Status:** 200 (redirect or server-side render to ContractsAction)
**Note:** Menu loads contracts view; actual data via ContractsAction.

---

## Entry: Initial load / Clear filter

**URL:** http://localhost:8082/ContractsAction.do?dispatch=input
**Method:** POST
**Status:** 200
**Content-Type:** application/x-www-form-urlencoded

### Request Body (form)
```
number=
contractor.id=
contractor.name=
date_begin=
date_end=
sum_min_formatted=
sum_max_formatted=
user.usr_id=
user.usr_name=
seller.id=
seller.name=
grid.page=1
grid.pk=con_id
ctrl=
do=
```

### Response
- Content-Type: text/html;charset=utf-8
- Full HTML page with contracts grid, filters, pagination

### Wire format (confirmed)
- `number` — filter by contract number
- `contractor.id`, `contractor.name` — nested contractor
- `date_begin`, `date_end` — date range (empty or DD.MM.YYYY)
- `sum_min_formatted`, `sum_max_formatted` — sum range
- `user.usr_id`, `user.usr_name` — user filter
- `seller.id`, `seller.name` — seller filter
- `grid.page` — page number (1-based)
- `grid.pk` — primary key column (con_id)

---

## Entry: Apply filter

**URL:** http://localhost:8082/ContractsAction.do?dispatch=filter
**Method:** POST
**Status:** 200
**Content-Type:** application/x-www-form-urlencoded

### Request Body (example: filter by number=BYM)
```
number=BYM
contractor.id=
contractor.name=
date_begin=
date_end=
sum_min_formatted=
sum_max_formatted=
user.usr_id=
user.usr_name=
seller.id=
seller.name=
grid.page=1
grid.pk=con_id
ctrl=
do=
```

### Response
- Content-Type: text/html;charset=utf-8
- Full HTML page with filtered contracts (BYM2512/066ALK, BYM2512/062ALK, …)

---

## Entry: Pager (next/prev)

**Status:** NOT CAPTURED — button ">>" did not trigger new request in session (possibly disabled on first page or single-page result).
**Expected:** Same POST to ContractsAction.do with `dispatch=filter` or `grid.NEXT_PAGE`/`grid.PREV_PAGE`, `grid.page=2`.

---

## Entry: Lookups (contractor/user/seller serverList)

**Status:** NOT CAPTURED — legacy uses server-side HTML; no separate XHR/fetch for lookups observed.
**Note:** CONTRACTS.md lists ContractorsListAction, UsersListAction, SellersListAction — may be embedded in page or separate requests on focus. Not observed in this capture.

---

## Other requests (same page load)

| URL | Method | Status |
|-----|--------|--------|
| /trusted/css.do?v=20260120e | GET | 200 |
| /includes/xmenu.css | GET | 200 |
| /includes/list.js, calendar.js, prototype.js, etc. | GET | 200 |
| /trusted/Reloader.do | GET | 200 |
| /OfficeAction.do?dispatch=ajaxEconomistMessages | POST | 200 |
